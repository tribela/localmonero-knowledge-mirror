---
title: "Πώς Θα Λειτουργήσουν τα Atomic Swaps στο Monero"
slug: "monero-atomic-swaps"
date: "2020-11-18"
image: "/images/atomic.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
Στην επιδίωξη της αποκέντρωσης και ενός συστήματος πραγματικά χωρίς άδεια, λίγα πράγματα είναι τόσο περιζήτητα στον χώρο των κρυπτονομισμάτων όσο τα αποκεντρωμένα χρηματιστήρια και οι ανταλλαγές ατομικών. Από την ίδρυσή του, το Monero δυσκολεύτηκε να εφαρμόσει ατομικές ανταλλαγές, καθώς οι λειτουργίες απορρήτου δημιουργούν μοναδικά προβλήματα κατά την προσπάθεια σχεδίασης ενός πρωτοκόλλου.

Αλλά πρώτα, ας δημιουργήσουμε αντίγραφα ασφαλείας. Τι είναι τα ατομικά swaps; Η ανταλλαγή ατομικών είναι ένα πρωτόκολλο μέσω του οποίου δύο διαφορετικά κρυπτονομίσματα, σε διαφορετικές αλυσίδες μπλοκ, μπορούν να ανταλλάσσονται με τρόπο αξιόπιστο χωρίς μεσάζοντα. Αυτό σημαίνει ότι αν κάποιος ήθελε να ανταλλάξει το κρυπτονόμισμα Α με το κρυπτονόμισμα Β, θα μπορούσε να το κάνει χωρίς ανταλλαγή, κεντρικά ή αποκεντρωμένα. Όπως θα μπορούσε κανείς να φανταστεί, αυτό απαιτεί σημαντική έρευνα και οι πλήρεις τεχνικές λεπτομέρειες που το καθιστούν δυνατό γίνονται αρκετά περίπλοκες. Για άλλη μια φορά, το LocalMonero είναι εδώ για να βοηθήσει και να δώσει μια απλή εξήγηση για τον κάθε άνθρωπο.

Για να ξεκινήσουμε, ας εξετάσουμε την πιο απλή μορφή ατομικής ανταλλαγής, όπως εφαρμόζεται από το Bitcoin. Εάν κάποιος θέλει να ανταλλάξει Bitcoin με ένα άλλο νόμισμα που χρησιμοποιεί την ίδια τεχνολογία συμβολαίου κλειδώματος χρόνου κατακερματισμού, μπορεί να το κάνει με τον ακόλουθο τρόπο. Η Αλίκη έχει Bitcoin (BTC), αλλά θέλει Litecoin (LTC) και ο Βασίλης έχει LTC, αλλά θέλει BTC. Αποφασίζουν να κάνουν μια ανταλλαγή ατομικών, ώστε ο καθένας να πάρει το νόμισμα που θέλει. Η Αλίκη στέλνει το BTC της σε μια ειδική διεύθυνση, χρησιμοποιώντας σενάρια που κλειδώνουν τα χρήματα ώστε να μην μπορεί να έχει πρόσβαση σε αυτό. Μπορείτε να το σκεφτείτε όπως η Αλίκη βάζει το BTC της σε ένα lockbox. Όταν φτιάχνεται το lockbox, παίρνει ένα κλειδί και στέλνει έναν κατακερματισμό αυτού του κλειδιού στον Βασίλη. Τώρα ο Βασίλης δεν έχει το ίδιο το κλειδί, μόνο τον κατακερματισμό, επομένως δεν μπορεί ακόμη να έχει πρόσβαση στα χρήματα.

Ο Βασίλης χρησιμοποιεί αυτό το κατακερματισμό ως σπόρο από το οποίο δημιουργεί το δικό του lockbox και στέλνει τον LTC του εκεί, όπου είναι επίσης κλειδωμένο. Δεδομένου ότι ο κατακερματισμός του κλειδιού της Αλίκης χρησιμοποιήθηκε ως ο σπόρος με τον οποίο κατασκευάστηκε το lockbox του Βασίλη, μπορεί να χρησιμοποιήσει το κλειδί της για να διεκδικήσει τον LTC στο lockbox του Βασίλη. Το κλειδί της ταιριάζει! Αλλά, χρησιμοποιώντας μαθηματική μαγεία, όταν χρησιμοποιεί το κλειδί της για να ανοίξει την κλειδαριά LTC, αποκαλύπτει το κλειδί στον Βασίλη, ο οποίος μπορεί στη συνέχεια να το χρησιμοποιήσει για να διεκδικήσει το BTC που έβαλε στο lockbox της. Με αυτόν τον τρόπο, χωρίς μεσάζοντα, η Αλίκη και ο Βασίλης ανταλλάσσουν με επιτυχία τα περιουσιακά τους στοιχεία.

Αλλά υπάρχει ένα μικρό πρόβλημα. Τι γίνεται αν η Αλίκη στείλει στο lockbox της και ο Βασίλης αποφασίσει ότι δεν θέλει να κάνει πια εμπόριο. Τώρα, αφού η Αλίκη δεν μπορεί να έχει πρόσβαση στο BTC της που κλείδωσε και ο Βασίλης δεν θα ολοκληρώσει το μέρος της συναλλαγής, η Αλίκη απλώς χάνει τα χρήματά της για πάντα. Λοιπόν, ευτυχώς, το Bitcoin έχει μια μικρή τεχνολογία που ονομάζεται συναλλαγές επιστροφής χρημάτων, και έτσι μετά από ένα χρονικό διάστημα, εάν το BTC δεν διεκδικηθεί από τον Βασίλη, τα σενάρια έχουν ενσωματωμένη μια ασφάλεια για αποτυχία, όπου το BTC θα επιστρέψει αυτόματα στην Alice. Αυτό ήταν το κύριο speedbump για την εφαρμογή ατομικών ανταλλαγών της Monero. Λόγω της τεχνολογίας απορρήτου [ring signatures](/knowledge/ring-signatures) της Monero, ο αποστολέας μιας συναλλαγής είναι πάντα αβέβαιος. Πώς μπορεί το πρωτόκολλο να κάνει μια συναλλαγή επιστροφής χρημάτων αν ακόμη και δεν γνωρίζει από πού προήλθε η συναλλαγή;

Το 2017, μια μικρή ομάδα ερευνητών περιέγραψε μια διαφορετική μέθοδο με την οποία θα λειτουργούσαν οι ανταλλαγές ατομικών στο Monero. Μετά από αρκετά χρόνια βελτίωσης, οι ερευνητές οριστικοποίησαν μια διαδικασία με την οποία η Monero θα μπορούσε να κάνει ατομικές ανταλλαγές με Bitcoin, ακόμη και χωρίς συναλλαγές επιστροφής χρημάτων.

Όπως συμβαίνει με πολλά πράγματα αυτού του επιπέδου τεχνικής πολυπλοκότητας, η εξήγησή μας θα απλοποιήσει υπερβολικά ορισμένα πράγματα για να μεταφέρει την ιδέα, αλλά θα εξακολουθεί να δίνει μια σταθερή ιδέα για τους μηχανισμούς με τους οποίους θα λειτουργούσε αυτή η διαδικασία.

Τόσο η Αλίκη (που έχει XMR και θέλει BTC) όσο και ο Βασίλης(που έχει BTC και θέλει XMR) πρέπει να κατεβάσουν και να εκτελέσουν ένα πρόγραμμα που υποστηρίζει την ανταλλαγή ατομικών. Αυτό μπορεί να εφαρμοστεί σε πορτοφόλια, αποκεντρωμένα χρηματιστήρια ή ειδικά προγράμματα, αλλά το λογισμικό πρέπει να εκτελεί το πρωτόκολλο ανταλλαγής ατομικών. Στο πρώτο βήμα, οι πελάτες της Αλίκης και του Βασίλη συνδέονται μεταξύ τους και δημιουργούν πολλά κοινά μυστικά και κλειδιά. Σε αυτό το βήμα, δημιουργείται μια νέα διεύθυνση Monero, με την Αλίκη να έχει το ένα μισό κλειδί και τον Βασίλη να έχει το άλλο. Ωστόσο, δεν υπάρχει Monero ακόμα εκεί, επομένως δεν υπάρχει τίποτα να ξοδέψετε. Ένα τελευταίο πράγμα που πρέπει να σημειώσετε σχετικά με αυτήν τη διεύθυνση, είναι ότι και οι δύο έχουν το κλειδί προβολής σε αυτό το πορτοφόλι, ώστε να μπορούν και οι δύο να κρυφοκοιτάξουν μέσα για να δουν αν ή πότε φτάνει το Monero.

Στο δεύτερο βήμα, ο Βασίλης στέλνει το BTC του σε μια ειδική διεύθυνση, παρόμοια με το πρωτόκολλο ατομικής ανταλλαγής Bitcoin που έχουμε ήδη συζητήσει. Αφού η Αλίκη δει το BTC να φθάνει σε αυτήν τη διεύθυνση στο blockchain, στέλνει το Monero της στη διεύθυνση Monero στην οποία αυτή και ο Βασίλης έχουν και οι δύο το μισό κλειδί. Ο Βασίλης μπορεί να επαληθεύσει ότι το Monero έφτασε αφού έχει επίσης το κλειδί προβολής και μόλις δει ότι το Monero βρίσκεται με ασφάλεια στο πορτοφόλι, στέλνει στην Αλίκη ένα κομμάτι κλειδιού που θα της επιτρέψει να αποσύρει το Bitcoin. Παρόμοια με το άλλο πρωτόκολλο, η διαδικασία διεκδίκησης του Bitcoin αποκαλύπτει το μισό κλειδί Monero στον Βασίλη. Τώρα ο Βασίλης έχει και τα δύο μισά, έτσι μπορεί να διεκδικήσει το Monero, ενώ η Αλίκη έχει μόνο το μισό της, οπότε δεν μπορεί να προσπαθήσει να το πάρει πριν το κάνει.

Επομένως, αν κοιτάξετε όλα αυτά και εξακολουθείτε να είστε λίγο μπερδεμένοι σχετικά με το πώς ο Monero κατάφερε να ξεπεράσει το πρόβλημα των συναλλαγών επιστροφής χρημάτων, η απάντηση είναι αρκετά απλή. Δεδομένου ότι το ίδιο το Monero δεν έχει συναλλαγές επιστροφής χρημάτων, ο αναγνώστης θα πρέπει να παρατηρήσει ότι το Bitcoin (το οποίο έχει συναλλαγές επιστροφής χρημάτων) αποστέλλεται πρώτα και μόνο αφού επαληθευτεί ότι βρίσκεται στο blockchain αποστέλλεται το Monero. Αυτό επιτρέπει στο Monero να χρησιμοποιεί την ικανότητα του Bitcoin να κάνει σενάρια σε συναλλαγές επιστροφής χρημάτων και να τις εκμεταλλεύεται, χωρίς να χρειάζεται να έχει το ίδιο αυτές τις δυνατότητες.

Η ατομική ανταλλαγή έχει ολοκληρωθεί, αλλά από εδώ και πέρα, ο Βασίλης έχει δύο επιλογές για το νέο του XMR που διεκδίκησε. Μπορεί να χρησιμοποιήσει αυτό το πορτοφόλι Monero ως έχει ή να μεταφέρει το XMR σε ένα άλλο πορτοφόλι που ήδη έχει στη διάθεσή του. Ο Βασίλης πιθανότατα θα μετακινήσει το Monero σε άλλο πορτοφόλι, επειδή η Αλίκη εξακολουθεί να έχει το κλειδί προβολής και μπορεί να δει μέσα.

Η ομορφιά αυτού του πρωτοκόλλου είναι ότι είναι ακόμα αρκετά νέο και υπάρχει μεγάλο περιθώριο για βελτιστοποιήσεις. Είναι επίσης αρκετά ευέλικτο ως προς την αρχιτεκτονική του, οπότε η εφαρμογή του σε άλλα πορτοφόλια ή αποκεντρωμένα ανταλλακτήρια θα πρέπει να είναι απλή, και να ταιριάζει σαφώς με την ήδη υπάρχουσα αρχιτεκτονική τους.

Περαιτέρω ανάγνωση