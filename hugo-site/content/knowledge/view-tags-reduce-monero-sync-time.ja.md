---
title: "タグを表示: 1 バイトで Monero ウォレットの同期時間を 40% 以上短縮する方法"
slug: "view-tags-reduce-monero-sync-time"
date: "2022-02-03"
image: "/images/viewTags.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
Monero の日常的な使用に関する最も一般的な不満の 1 つは、Monero を送信できるようになるまでにウォレットを同期するのに時間がかかることです。ありがたいことに、Monero コミュニティの開発者と研究者は、ブロックチェーンの肥大化や手数料などを追加することなく、ウォレットの同期にかかる時間を 40% 以上短縮する素晴らしい方法を見つけました。

各トランザクションのデータに 1 バイト追加される「ビュー タグ」を入力してください。次のネットワーク アップグレードで Monero に導入されます!

## モネロのウォレット同期がビットコインよりも遅いのはなぜですか?

ビュータグのようなソリューションの必要性をよりよく理解するために、最初に答えなければならない質問の 1 つは、Monero のウォレット同期がビットコインのような暗号通貨よりも遅い理由です。

ビットコインでは、すべてのトランザクションが非公開ではなく、使用されているコイン、金額、およびチェーン上に含まれるアドレスが明らかになるため、ビットコイン ウォレットは、未使用のトランザクション出力 (UTXO) または特定のウォレットの使用済みアドレスを簡単に探すことができます。 ブロックチェーンをすばやくスキャンして、それらのアドレスが所有するUTXOのみを探し、どのコインがあなたのウォレットに属し、使用できるかを判断します。

ただし、Monero では、すべての取引で、各取引に関係する送信者、受信者、および金額を非表示にすることで、ユーザーのプライバシーが保護されます。このプライバシーは、ネットワークのユーザーを保護するために不可欠ですが、ウォレットの同期も遅くなります。 Monero では、ウォレットはネットワーク上に存在するすべてのトランザクション出力 (TXO) をウォレットの秘密鍵と比較する必要があります。

この比較には、すべての金額、アドレス、および既知の使用済みアウトプット (またはコイン) が Monero のチェーン上に隠されているため、アウトプットが本当にあなたのものであることを検証するために、多くの複雑な数学と暗号化が必要です。

## ビュータグとは？

Monero ウォレットの同期時間を短縮する方法として、[UkoeHB という研究者が斬新なアプローチを考案しました](https://github.com/monero-project/research-lab/issues/73) そのトランザクションの送信者と受信者に既知の共有シークレットを使用して、各トランザクションに 1 バイトの「タグ」を追加します。

この共有シークレットは、受信者から提供されたアドレスを使用して送信者によって生成され、送信者と受信者によるアクティブなコラボレーションは必要ありません。この共有シークレットの最初のバイト (または文字) は、Monero ネットワークに公開するときに、トランザクションのデータに追加されます。

そのトランザクションの参加者の 1 人が、後でウォレットを Monero ブロックチェーンと同期したい場合、ネットワーク上のすべての TXO ごとに複雑な計算と暗号化をすべて実行する必要はなく、ウォレットはチェックするだけで済みます。各トランザクションでその 1 バイトのフィールドを確認し、そのタグを持つトランザクションに対してのみ時間のかかる検証を実行します。正確には、ネットワーク上の 1/256 TXO です!

このタグは、トランザクションに関する情報を外部の閲覧者に明らかにすることはなく、トランザクション サイズに 1 バイト (無視できる量) を追加するだけで、複雑な検証を削減することで同期時間を 40% 以上短縮できます。 

## タグを表示: 簡単な例

部屋に 4,096 個の箱があり、そのうちの 5 個の箱だけがあなたのものだとします。箱はすべて外見と全く見分けがつかず、箱があなたのものかどうかを知る唯一の方法は、箱を開けて中に書かれた時間のかかる数学の問題を解いて、それがあなたのものであることを確認することです。

では、これら 5 つのボックスの送信者に、あなたのアドレスを使用して特別なコードを生成させ、その生成されたコードの最初の文字だけを、送信される各ボックスの外側に配置することにしたとします。他の誰もが自分のボックスに対して同じことを行います (すべてのボックスがまだ見分けがつかないようにするため) が、ボックスの外側にある 1 つの文字コードを確認するだけで、その文字が記載されているボックスのみを開くことができます。

他のボックスはあなたのコードと一致しますが、あなたが所有していないものも含めて、開いて数学の問題を解くために必要なボックスの数は、4,096 個すべてではなく、16 個 (1/256 ボックス!) になりました。 

これらの 16 個のボックスを開き、数学の問題を解き、そのグループから実際にあなたに属している 5 個のボックスを保持します!

## View タグはいつ Monero で利用できるようになりますか?

ビュー タグは、[今後のネットワーク アップグレード](https://github.com/monero-project/meta/issues/630)に含めることが現在計画されている機能の 1 つであり、この春にリリースされる予定です。コミュニティ [ は 23.3XMR](https://bounties.monero.social/posts/28/implement-view-tags-to-decrease-wallet-sync-times-in-monero) (執筆時点) を立ち上げ、ビュー タグの開発と実装を奨励しました。その結果、Monero コード ベースにビュー タグを含めるための作業の大部分は、すでに行われています。 j-berman がレビュアーや研究者と協力して完成させました。

ビュー タグがネットワークによって強制されると、ネットワークのアップグレード後に送信されるすべてのトランザクションは、大幅に改善されたウォレット同期時間の恩恵を受けます。ビュータグの使用を開始するために特別なことをする必要はありません。お気に入りの Monero ウォレットは、ネットワークのアップグレード後に自動的に使用を開始します!

## どうすれば詳細を知ることができますか?

これがビュータグに関する好奇心を刺激した場合は、トピックを詳しく説明している追加のリンクについて以下を参照してください:

  * [出力あたり 1 バイトの「ビュー タグ」でスキャン時間を短縮](https://github.com/monero-project/research-lab/issues/73)
  * [ビュータグを出力に追加してウォレットのスキャン時間を短縮](https://github.com/monero-project/monero/pull/8061)

参考文献