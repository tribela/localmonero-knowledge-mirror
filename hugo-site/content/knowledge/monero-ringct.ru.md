---
title: "Как протокол RingCT скрывает суммы при проведении транзакций Monero"
slug: "monero-ringct"
date: "2020-10-28"
image: "/images/ringct.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
Приватность Monero не зависит от одного единственного механизма, взлом которого приведёт к полному раскрытию транзакций. Приватность обеспечивается тремя различными технологиями, которые в совокупности гарантируют целостность приватности, компенсируя слабые стороны друг друга. Такой тройственный подход подразумевает использование [кольцевых подписей](/knowledge/ring-signatures), протокола RingCT и [скрытых адресов](/knowledge/monero-stealth-addresses). Эти три технологии позволяют скрыть реальный выход (отправителя), сумму и личность получателя, соответственно. Сегодня мы поговорим о протоколе RingCT.

Эти три технологии позволяют скрыть реальный выход (отправителя), сумму и личность получателя, соответственно. Сегодня мы поговорим о протоколе RingCT.

Для начала давайте выясним, почему так важно верифицировать всё, связанное с суммами. Почему мы не можем просто держать их в секрете? Дело в том, что есть целый ряд хитрых способов, позволяющих создавать деньги из воздуха, если представится такая возможность. Как такое возможно? Давайте рассмотрим пример.

Если вы хотите купить вещь у своего друга, и он просит за неё десять долларов, вы начинаете торговлю с десятью долларами, а у него имеется ноль долларов. После того, как вы дадите ему десять долларов, у него будет десять долларов, а у вас — ноль. Вы начали с десятью долларами, а теперь эти десять долларов у него. При проведении этой транзакции не было создано или уничтожено каких-либо денег.

В случае с криптовалютами, сообразительный человек может отдать десять долларов за предмет и вместо того, чтобы получить ноль долларов сдачей, обратно может получить два доллара. Вместо 0 и 10, и 10 и 0 после обмена (или 10 = 10), теперь после обмена 0 и 10 получаем 10 и 2 (или 10 = 12). Две Monero были созданы буквально из воздуха. А теперь, можете представить, что было бы, если человек проделал бы такое несколько раз. Он смог бы довольно быстро накопить просто огромное состояние.

В случае с Bitcoin и другими монетами это было бы легко обнаружить. Вы смотрите на входы, входящие в транзакции, и получаемые выходы, и убеждаетесь в том, что, что-то было отправлено, равно тому, что было получено. Если бы эти суммы были зашифрованы и невидимы, то у пользователя не было бы никакой возможности проверить, что-то, что было отправлено, и то, что было получено, совпадает.

Пытаясь повысить уровень приватности Bitcoin, Грегори Максвелл создал новую технологию конфиденциальных транзакций (Confidential Transactions, CT), которая позволяла использовать зашифрованные суммы с возможностью доказательства, что в процессе проведения транзакции не было что-либо создано или уничтожено. Как и в случае с большинством технологий обеспечения приватности, эта также не была использована в Bitcoin, но Monero с готовностью приняла её. Была только одна проблема. Уже реализованная технология кольцевых подписей была несовместима с предложенной идеей. Поэтому, одним из исследователей MRL которым в то время являлся Шен Нёзер, технология CT была преобразована в RingCT, версию CT, совместимую с кольцевыми подписями.

Опять же, принципы работы этого протокола представляются довольно техническими, и их будет сложно объяснить во вводной статье. Для интересующихся криптографией, то есть тех, кому просто необходимо их понимать, в интернете есть множество подробных статей о внутренних принципах работы CT. Всем остальным этой статьи будет достаточно, чтобы показать, как можно скрыть сумму, но всё же доказать, что ничего не было создано или уничтожено.

Допустим, Элис хочет отправить Бобу деньги. Элис отправляет 10 XMR Бобу, который получит 10 XMR. 10 = 10, так что, здесь всё в порядке. Но Элис не хочет, чтобы кто-нибудь знал, сколько она отправляет. Поэтому они с Бобом создают общий секрет. По сути, это число, которое известно только им двоим. Допустим, что это число 22. Теперь Элис умножает 10 (то, что она действительно отправляет) на 22 и получает 220. Это число, которое она отправляет в сеть.

Сами майнеры не знают секретного числа. Если бы знали, они смогли бы разделить показанное им число на секретное число и получить значение реально отправленной суммы. Но так как они не знают его, то и не могут сделать этого. Тем не менее, они действительно видят, что Боб получает число 220. 220 отправлено. 220 получено. 220 = 220. Таким образом, сеть может убедиться в том, что ни одна монета Monero не была создана или уничтожена, не зная при этом реальной суммы, которую Элис отправила Бобу.

Поскольку Бобу известно общее секретное число, когда он получает деньги, он просто делит полученное значение на 22, чтобы узнать реальную сумму, которую отправила Элис, то есть, 10. И Элис, и Боб знают, сколько было отправлено и сколько было получено, в то время как всем остальным видно лишь ложное число.

Опять же, это не совсем так, как на самом деле работает CT, но даёт представление о том, как подобное возможно. Реальный способ подразумевает использование таких вещей, как обязательства Педерсена, двух отправленных сумм (одна зашифрованная сумма для получателя и одна сумма обязательства для сети) и... да, уже становится понятно, как легко во всём этом запутаться.

Однако, следует отметить, что несмотря на то, что протокол RingCT действительно позволяет скрыть сумму проводимой двумя сторонами транзакции, он не скрывает два других набора чисел.

Первый набор связан с coinbase-транзакциями. Если этот термин вам незнаком, то по существу он означает вознаграждение, которое майнеры получают за вычисление следующего блока. Это число не скрывается. Любой желающий может увидеть, какое вознаграждение протокол выплатил майнеру за работу. Таким образом, текущее количество существующих монет Monero можно узнать, сложив все coinbase-транзакции. Их сумма будет равна текущему количеству Monero, находящихся в обращении.

Второе число, которое не скрывается, это размер комиссии, выплачиваемой майнерам, когда пользователь отправляет транзакцию. Размер комиссии должен быть открытым, чтобы майнеры знали, кому отдавать приоритет. Тем не менее, это может повредить приватности пользователей, поскольку если кто-то всякий раз использует уникальный размер комиссии для выплаты майнерам при отправке транзакции (например, 0,12345), такие транзакции можно будет связать друг с другом.

Поэтому, в подобных и иных случаях, начиная с 2017 года, для сокрытия сумм Monero используется протокол RingCT, и общий уровень нашей коллективная приватности от этого только повышается.

Читайте также

  * [Как Monero уникальным образом обеспечивает циркулярную экономику](/knowledge/monero-circular-economies/)

  * [Кольцевые подписи Monero против CoinJoin как в Wasabi](/knowledge/ring-signatures-vs-coinjoin/)

  * [Почему (и как!) вы должны хранить собственные ключи](/knowledge/hold-your-keys/)

  * [Как внести свою лепту в успех Monero](/knowledge/contributing-to-monero/)

  * [Как удаленные ноды влияют на конфиденциальность Монеро](/knowledge/remote-nodes-privacy/)

  * [Как Монеро использует хард-форки для модернизации сети](/knowledge/network-upgrades/)

  * [Теги просмотра: Как один байт сократит время синхронизации кошелька Монеро более чем на 40%](/knowledge/view-tags-reduce-monero-sync-time/)

  * [P2Pool и его роль в децентрализации майнинга Monero](/knowledge/p2pool-decentralizing-monero-mining/)

  * [Серафис: Как это повлияет на Monero](/knowledge/seraphis-for-monero/)

  * [Обмен Bitcoin на Monero настолько же анонимен, как и покупка Monero напрямую. Так ли это?](/knowledge/most-private-way-to-buy-monero/)

  * [Почему Monero, в отличие от Zcash, использует настройки, не требующие доверия](/knowledge/monero-trustless-setup/)

  * [О том, почему Monero является более эффективным средством сбережения, чем Bitcoin](/knowledge/monero-better-store-of-value/)

  * [Как Monero избежать сетевых эффектов Bitcoin](/knowledge/network-effect/)

  * [Почему представители сообщества Monero отличаются масштабом своего критического мышления](/knowledge/critical-thinking/)

  * [Возможные случаи мошенничества при использовании Monero](/knowledge/monero-scams/)

  * [Как атомные свопы будут работать в Monero](/knowledge/monero-atomic-swaps/)

  * [Что должен знать каждый пользователь Monero, когда дело доходит до взаимодействия с сетью](/knowledge/monero-networking/)

  * [Как скрытые адреса Monero помогают защитить вашу личность](/knowledge/monero-stealth-addresses/)

  * [Как подадреса Monero не позволяют устанавливать связь с личностью пользователя](/knowledge/monero-subaddresses/)

  * [Что такое выходы Monero](/knowledge/monero-outputs/)

  * [Оптимальные способы использования Monero для начинающих](/knowledge/monero-best-practices/)

  * [Как кольцевые подписи скрывают выходы Monero](/knowledge/ring-signatures/)

  * [Как в Monero победили болезнь размера блоков, поразившую Bitcoin](/knowledge/dynamic-block-size/)

  * [Как реализация схемы CLSAG повысит эффективность Monero](/knowledge/what-is-clsag/)

  * [Зачем Monero хвостовая эмиссия](/knowledge/monero-tail-emission/)

  * [Краткая История Monero](/knowledge/monero-history/)

  * [Wired Magazine заблуждается в отношении Monero, и вот почему](/knowledge/wired-article-debunked/)

  * [Развенчиваем 15 самых популярных мифов о Monero](/knowledge/monero-myths-debunked/)

  * [Как Dandelion++ помогает сохранить приватность источников транзакций Monero](/knowledge/monero-dandelion/)

  * [Почему Monero децентрализовано и имеет открытый исходный код](/knowledge/why-monero-is-open-source-and-decentralized/)

  * [Майнинг Monero: что делает RandomX таким особенным](/knowledge/monero-mining-randomx/)

  * [Почему Monero лучше, чем Dash, Zcash, Zcoin (даже с Lelantus), Grin и биткойн-миксеры вроде Wasabi (Обновлено в мае 2020 г.)](/knowledge/why-monero-is-better/)