---
title: "門羅幣子位址是如何防止使用者資訊被關聯"
slug: "monero-subaddresses"
date: "2020-10-13"
image: "/images/subaddresses.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
一直以來，門羅幣都在用創新方法來解決保護隱私的各種難題.通常這些創新也會帶動其他創新，這其中，有些新技術還可以帶來意料之外的應用場景和使用方式. 今天要介紹這些創新中的佼佼者，門羅幣的子地址功能.

老規矩，我們通過例子來講解，隱私是如何被破壞的.當看似無關的人們，誇平臺使用同一個收款位址會造成怎樣的危害.假設你叫比利鮑勃，你開了一個水果店賣水果，由於你是比特幣的愛好者，所以你允許客人付帳的時候給你比特幣，於是你在店門口掛了一個牌子說這裡接受比特幣，你還展示了你的收款二維碼給大眾，假設你的收款地址為7XybV3開頭，那麼這樣做的首要風險，就是任何看到你收款二維碼的人，不用跟你交易都知道你的帳戶餘額，所有的交易轉帳記錄，多少其它帳戶給你付過款，那些人的每一筆來源和餘額.拋開這種危害，還有第二種隱私危害，不太被人提及.假設你的另一個身份是一名駭客或者程式師，你化名33tz0r在網上向無知的民眾揭露真相，批評政府腐敗，大企業的違法行為，或者揭露有組織犯罪，顯而易見，你需要保持匿名以防止迫害和打擊報復.可你同時在網站和論壇上表示你接受比特幣捐款，以便大眾給予你支持，收款地址同樣是7XybV3 開頭的比特幣地址.

而現代通過互聯網的大資料和各種爬蟲，可以簡單而有效的直接抓取所有關於以7XybV3為開頭的比特幣位址的各種資料.然後結果顯而易見，這個收款位址同時出現在比利鮑勃的水果商店和駭客名為l33tz0r的帖子裡.這就足以關聯兩個使用者的身份並消除駭客的匿名性，這會帶來可怕後果.

需要注意的是，在上面的例子裡，門羅可以默認防禦第一種隱私洩露，也就是說如果你的水果店接受門羅付款，別人不會知道有多少人給你有過交易，也不知道餘額，但是發明子位址之前的門羅幣還是不能防住，第二種隱私洩露.即使門羅幣隱藏了鏈上資料，可該攻擊並不利用鏈上資料作為攻擊點. 它僅抓取收款位址，但一個錢包必須公開給大眾才能接收付款.即便是在匿名的情況下也要公開捐贈的位址. 這是一種會在不經意間，潛在給門羅幣使用者造成傷害的情況，並且這是一個很好的警示，即使門羅幣本身在隱私方面處於最高水準，也不能保證用戶在幣以外的範圍是安全的.

門羅的解決方案是子地址功能. 簡單來說在主位址下可以創建無數的子位址，並且所有位址共用同一個種子和金鑰. 每個生成的子位址都可以單獨接受門羅幣，並且所有子位址的幣都存儲在同一個錢包中.使用這種方法，可以在一個位址下操作無限個身份，同時將資訊安全工作量保持在最低限度. 這些地址在數學上也不可關聯的，因此除非用戶故意暴露他們與世界的聯繫，否則外部觀察者將很難關聯它們.

但是子位址更讓人津津樂道的意外功能是，它的出現替代並解決了人們長期以來討厭payment ID 的情況.

2018年以前的門羅幣，轉帳備註付款ID是商家識別哪個客戶發送哪個付款的一種方式.由於門羅幣資訊在鏈上模糊不清，因此接收者也無法分辨發送者是誰. 這意味著，如果存在價格相似的商品和多個訂單，則無法確定到底是誰付的款. 那時候付款ID是由商家生成並提供給客戶的唯一的隨機字串. 客戶在發送交易時將其添加為單獨的欄位. 該隨機字串作為交易的一部分放置在區塊鏈上，通過這種方式，商人可以識別並分類轉入的交易. 這裡譯者為了方便大家理解，舉一個生活裡的例子，比如學校收學費，會給所有學生同一個銀行帳戶，然後要求付款的學生在轉帳的時候備註學生的學號，以便會計查帳到底誰付了學費，當時的payment ID 就相當於這個例子裡的學號.

這種方法有幾種缺陷.首先，它損害了鏈上資料的一致性.另外，獨特的中繼資料可以使某些交易格外與眾不同，從而可以進行啟發式分析. 並且當此功能沒有對所有人強制實施時，尤為嚴重，因為轉帳的時候並不是要強制備註的，比如你從交易所提幣到自己的錢包，你並不需要交易所給你備註payment ID.另外，使用這個功能的每個人都導致門羅幣區塊鏈增加不必要的額外負擔，因此這不是一個好方法. 同樣，如果付款ID由於任何原因而被重複使用，則將兩個交易關聯在一起會變得易如反掌. 這通常發生在交易所充值中，任何人都可以輕鬆地將交易關聯為某個交易所的充值，也可以確定它是來自一個特定的某人.

其次，從用戶體驗的角度來看，支付ID需要額外進行第二步操作，對不習慣使用該功能的加密貨幣用戶來說，如果忘記了這個步驟，則會造成很多不必要的麻煩，首先充值不能被交易所自動識別到賬，而後續這些交易所為了弄清楚到底誰充值，也會花很多時間和精力. 通常為了確定到底是誰充值，交易所需要通過和客戶直接交談並確認只有他們自己才知道的其他標識資訊，例如，金額，發送日期和轉帳的TXID來完成確認.

許多人都犯同樣的錯，甚至導致一些交易所開始向客戶收取額外費用，來找回那些由於忘記了付款ID而沒有入帳的轉帳. 客戶也只能硬著頭皮吃下這個苦果，可是交易所本身也並不開心，畢竟花費了額外的精力，並損害用戶體驗.

當時有一個解決方案，即集成位址，又叫長地址，它將收款位址和付款ID合併為一個長的位址，但是該方案採用率很低，儘管商家會從中受益.

而子地址可謂交易所的大救星. 每個主位址可以簡單生成大量子位址，並內在識別哪些轉帳是從哪個子位址轉入的，使商戶可以採用更優雅的方式擺脫付款ID，同時採用新一代門羅幣技術.從那時起，大多數交易所和商家都已切換到子位址作為交易識別的方式.

有趣的是本來子地址最初是為了解決隱私問題而設計的方案，沒想到卻為商人和客戶解決了易用性的問題. 這就是文章想闡述的核心思想，創新會帶來更多的創新，繼而更多新想法會滾滾而來，同時創新也會為我們每個用戶帶來意外驚喜.門羅幣一次又一次地做到了這一點，而整個社區也投入巨大的精力來辨別各種創新技術在門羅幣區塊鏈上實現的可能性. 未來可期，誰也不知道我們的天花板在哪裡，以及那份創新還能讓我們一起解鎖怎樣的新高度和境界?

進一步閱讀