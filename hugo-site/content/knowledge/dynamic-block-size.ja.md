---
title: "Monero がビットコインを悩ませているブロックサイズの問題をどのように解決したか"
slug: "dynamic-block-size"
date: "2020-08-28"
image: "/images/blocks.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
_**注:** [「Monero にはテール エミッションがある理由」](/knowledge/monero-tail-emission) および [「Monero マイニング: RandomX の特別さ」を読むことを強くお勧めします。](/knowledge/monero-mining-randomx)。この記事は、そこで提示された概念に基づいて作成されています。_

個人がブロックチェーンの問題について話し合うときはいつでも、最初に出る言葉の 1 つが「スケーリング」です。ブロックチェーンがうまくスケーリングできないことは秘密ではありませんが、ほとんどの人はその理由を知りません。

実のところ、スケーリングは実際には、ある時点でのプロトコル サポートと技術サポートという 2 つの異なるカテゴリを網羅する包括的な用語です。この記事では、プロトコルのサポートとは、基本的に、プロトコルが特定の時間に処理できるトランザクションの数を測定するものです。

Bitcoin にはブロック サイズの制限があります。つまり、十分なトランザクションがブロックに含まれると、追加のトランザクションは次のブロックを待つ必要があります。有用な類推は、電車について考えることです。電車が駅に停車し、列に並んでいる人が列に並びます。電車が満員になると、外に出た人は次の電車を待たなければなりません。

ビットコインは手数料を使用して、誰がブロックに入るかどうかを決定します。電車の例えに戻ると、置き去りにされようとしている潜在的な乗客の 1 人が、電車のエンジニアに座席を与えるために 5 ドルを提供することを想像できます。他の乗客もそれに続き、最終的に誰がどの座席を獲得するかをめぐる入札戦争が発生します。先着順のポリシーを尊重するかどうかを決定するのは運転手次第ですが、最高額の入札者を乗せて収入を最大化することは、運転手の最善の経済的利益になります。

このアナロジーでは、鉱山労働者は電車の運転手です。ブロックに必要なトランザクションを含めることができますが、通常、支払った手数料が最も高いトランザクションを選択します。

あるいは、ブロックがあまり埋まっていなければ、空いている席がたくさんあるので、人々は高い料金を支払うインセンティブを持たない。

2017 年の暗号通貨ブームの最盛期に、ビットコインは取引であふれ、次のブロックまたは近い将来のブロックに含まれることを望んでいた手数料が急増しました。高額の手数料を払いたくない人は、トランザクションが数時間、数日遅れたり、キューから完全に脱落することさえありました。

これは、よく話題に上る「大量採用」が起こった場合、ビットコインがどうなるかについての悲惨な洞察でした。ビットコインが大衆に利用されると、2017 年よりさらに状況が悪化し、ブロック サイズが固定されているためスループットが小さいため、富裕層以外はビットコインにアクセスできなくなり、手数料市場が支配することになります。 

モネロはこれを予見し、何か違うことをしたいと考えていました。そのため、Monero の開発者は動的ブロックサイズを実装しました。

基本的にモネロにもブロックサイズの上限がありますが、ソフトキャップです。待機中のトランザクションの列が長くなりすぎると、マイナーはブロックのサイズを増やすことができます。電車に例えると、余分な乗客に合わせて電車の車両を追加することが想像できます。キューが空になると、ブロックは縮小して元のサイズに戻ります。

これが素晴らしいアイデアのように思えるなら、なぜ Monero がこれを実装した唯一の暗号通貨なのかを尋ねるのは理にかなっているように思えます。スループットの問題を解決するために、ビットコインに追加してみませんか?

残念ながら、これは不可能です。いくつかの理由があり、説明できるよう最善を尽くします。

大きなブロックを持つことは、常にマイナーの最大の関心事です。大きなブロックを使用すると、より多くのトランザクションに適合し、ブロック報酬だけでなく手数料からも多くのお金を稼ぐことができます。これはスパム攻撃につながる可能性があり、誰かが小額のトランザクションを少額の料金で多数送信してチェーンを肥大化させます。鉱山労働者はブロックサイズを上げてそれらをすべて含めます。お金はお金であるため、どんなに小さくても。これにより、一貫して大きなブロックが生成され、経済的利益はほとんどありません。ビットコインは、人為的にブロックサイズを制限することでこれを解決し、それによって手数料市場を生成します。スパムの攻撃者は、他のユーザーよりも高い料金を支払わなければならず、もはや安くはありません。しかし、これは、ブロックがいっぱいになり、上記のように一部のトランザクションが待機状態になることを意味します。

では、どうすればモネロに動的ブロックサイズを持たせながら、スパム攻撃を回避できるのでしょうか?答えは簡単ですが、賢いです。ブロックが通常よりも大きい場合、ブロック報酬にペナルティが導入されます。マイナーがブロックサイズを増やしたい場合、そのブロックを見つけて得られる報酬は、そうでない場合よりも少なくなります。したがって、ユーザーが支払ったトランザクション手数料がブロック報酬の損失分を上回る場合にのみ、ブロックサイズを増やします。たとえば、マイナーがブロック サイズを上げることで 0.5 XMR を失い、支払われたトランザクション料金の合計が 0.4 XMR になる場合、サイズを上げると 0.1 XMR の純損失が発生するため、それをしないでください。逆に、トランザクション手数料の合計が 0.7 XMR になると、ブロック報酬のペナルティから 0.5 XMR を失ったとしても、0.2 XMR の純利益があるため、マイナーはサイズを増やします。

これらの動的ブロックにより、ブロックサイズを人為的に制限して強制的な手数料市場を作ることなく、スパム攻撃を回避しながら、ネットワークを有機的に成長させることができます。このアイデアをさらにいくつかの角度から見ることができ、ビットコインに追加できない理由がさらにありますが、今のところ、Monero がビットコインの問題のいくつかを回避する方法、その派生物、およびそのスループットを将来に向けてどのように拡大するかを読者が理解していることを願っています。

参考文献