---
title: "门罗币挖矿: 什么使 RandomX 算法如此特别"
slug: "monero-mining-randomx"
date: "2020-02-20"
image: "/images/mining.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
2019年11月30日，门罗币社区进行了每半年一次的硬分叉，本次升级中最令人期待的一项是门罗币挖矿算法的改变,从旧版本的Cryptonight-R,升级到一个全新的，完全不同的RandomX算法.门罗社区相信RanodomX算法的部署是社区迈向平等挖矿，更去中心化记账的巨大进步，本文让我们进行更深入的发掘来检验是否真是如此.

## 目标

在进行判断RandomX 算法是否是一个好的升级以前，我们必须首先理解挖矿的意义和目标究竟是什么.所谓挖矿和记账是确保整个系统能维护社区共识不被破坏，即没有双花发生和51%算力攻击.这套挖矿系统具体运作和实现的技术细节不在本文的讨论范围内，读者可以在互联网上找到很多不同信息来源进行深度学习.我们需要关注的重点是由计算机（矿工们）产生的哈希值决定了整个加密货币体系的安全性，矿工们彼此竞争，进行运算比赛，运算的数学结果是打包下一个区块的必要条件，只有第一个运算出这个结果的矿工才有资格获得记账权，打包下一个区块到整个区块链上.作为他们运算（哈希运算）的回报，他们会获得他们打包区块的区块奖励（发行的新币+矿工费）.   
  
在挖矿记账这个过程中会经常会发生很多问题，他们需要适当的奖励机制才能正常工作，但本文我们重点关注一个问题.如果说挖矿本来是一种竞争比赛，那么如果有一个矿工获得了相对其他竞争者的绝对优势，那将会发生什么?

## 背景

作为上下文，我们来谈谈挖矿硬件。矿工使用计算机来完成工作，但我们都知道并非每台计算机都是一样的。有些计算机功能强大，足以运行人工智能网络或激烈的游戏，而另一些计算机甚至难以完成简单的任务。这些计算能力的差异也会影响哈希率，或者它们寻找区块解决方案的速率。   
  
但即使是计算机之间的这些差异，与专用硬件（也称为专用集成电路（ASIC））的哈希率相比也显得苍白无力，后者比普通计算机高出几个数量级。  
  
让我们花一些时间来探讨一下 ASIC 的强大之处。想象一下，所有计算机都处于一个范围内，范围从能够做很多事情，但做得不好，到只做一件事，但做得很好。 CPU 和 ASIC 处于该范围的两端。  
  
所有标准计算机中的 CPU 都位于第一端。他们可以做很多事情，比如浏览网页、玩游戏或渲染视频，但没有一件做得特别好。但这种灵活性是以效率为代价的。  
  
ASIC 位于另一端，它们只能做一件事，但以令人难以置信的速度完成。它们只能执行一种数学函数，但由于它们可以忽略其他一切，因此性能提升是天文数字。然而，这种效率确实是以灵活性为代价的，因此，如果功能发生哪怕是轻微的变化（例如 x + y = z 更改为 2x + y = z），那么 ASIC 将完全停止运行。   
  
不是每个人都拥有 ASIC，但每个人都拥有计算机。这可能会导致不公平的优势。

## 一个有趣的类比

如果读到这里还是有很多困惑,则下面这个比喻可能会有所帮助.设想一下有一个彩票游戏，每小时开奖一次，每次奖励一千美元,并且参与者可以打印自己的彩票号码!你开始在自己家用打印机上打印尽可能多的彩票号码，该打印机每秒可以打印一张彩票.扣除电力和墨水成本后，即使每隔几周只赢得一次彩票，你仍然可以获利.  
  
随着时间的流逝，你持续扩大打印设备，直到建立了完整打印机专用室.总共20台打印机.一切看起来似乎都很好...直到有一天.  
  
有件大事件发生，有人发明了一种新型打印机.它只能打印彩票.它不能打印图片或办公室文档，也不能进行双面打印.只有这种彩票.但是它可以每秒打印1000张.你这时候再环顾自己打印机房.只有 20台普通打印机.你还需要再买980台普通打印机来跟上一台新诞生的怪兽打印机单机效率，而如果有人拥有两台新型打印机…?  
  
结果是你只能悲剧性的退出彩票游戏，因为你需要花费比别人千倍的电力和墨水成本才能中奖，这显然是不合理的.  
  
但是请稍等！几周后，事情有了新转机！彩票的排版设计已更改.以前在票面顶部的数字现在在底部显示.新的怪兽打印机因为没有任何灵活性，无法做到改变和调整.他们只能打印以前的老版彩票.于是你又将像以前一样再次愉快地打印彩票，因为你的打印机是可以进行图片调整和布局改变.至少在有人为新设计制造更新的怪兽打印机之前，你又可以合理参与彩票游戏.

## RandomX

RandomX在哪些方面吻合这个比喻呢？它试图通过使ASIC非常难以制造来削弱ASIC的优势.它通过要求矿工在挖矿中创造和执行随机代码来实现的.  
  
这么说你可能还是困惑于RandomX它的实际工作原理，所以让我们回到打印机的类比上吧，还记得彩票设计变更时发生的事情吗?旧的怪物打印机每天晚上都会过时，必须在开发新打印机时考虑添加新的设计.可如果每张新中奖彩票，必须遵守每次新大奖的新设计标准，那会发生什么呢?   
  
创建新的怪兽打印机将变得异常困难，您不能再计划一个固定的彩票设计，因为每次票面设计是随机的，所以怪兽打印机制造商将不得不增加色彩功能，打印不同字母，边框和形状的方式等等.简而言之，他们最终发明的机器将是标准，普通打印机.就像其他所有人一样.  
  
仅通过在彩票设计中实现这种随机性，我们就大大减少了专用怪兽打印机所获得的巨大优势.同样的RandomX也通过类似的工作原理抵制矿机.  
  
通过这种方式，少数富裕人士所获得的优势会被最小化，就好像他们投资发明用于挖掘RandomX的"ASIC"，他们实际上会仅仅发明更强大，更好的CPU，这对整个世界都有利.  
  
对于普通参与者来说，由于这些富人仍然可以购买比他更多的打印机获得优势，因此普通人可能仍然会遇到困难，但是至少现在，他并没有被单台垄断怪物机器上被跨数量级的技术碾压.  
  
即使普通人在挖掘Monero方面也有竞争力，所以我们鼓励所有人尝试一下，无论是在Monero GUI钱包中SOLO模式为门罗挖矿，或通过下载社区维护的软件进行门罗挖矿.这都是很容易，具有竞争力并且对所有人开放.

进一步阅读

  * [门罗币如何独特地实现循环经济](/knowledge/monero-circular-economies)/

  * [门罗币环形签名与CoinJoin像在Wasabi比较](/knowledge/ring-signatures-vs-coinjoin)/

  * [为什么（以及如何！）你应该持有你自己的钥匙](/knowledge/hold-your-keys)/

  * [贡献为门罗币](/knowledge/contributing-to-monero)/

  * [远程节点如何影响门罗币的隐私](/knowledge/remote-nodes-privacy)/

  * [门罗币是如何使用硬分叉为升级网络](/knowledge/network-upgrades)/

  * [查看标签：一个字节如何将门罗币钱包的同步时间减少40%以上](/knowledge/view-tags-reduce-monero-sync-time)/

  * [P2Pool和它在去Monero采矿中心化的作用](/knowledge/p2pool-decentralizing-monero-mining)/

  * [Seraphis：它将为门罗币做什么](/knowledge/seraphis-for-monero)/

  * [把比特币兑换成门罗币，就可以高枕无忧了吗?](/knowledge/most-private-way-to-buy-monero)/

  * [为什么门罗币不像大零币那样需要初始信任来实现隐私](/knowledge/monero-trustless-setup)/

  * [为什么门罗币才是电子黄金，相对于比特币更有储存价值的属性](/knowledge/monero-better-store-of-value)/

  * [门罗币是如何蚕食比特币的份额和先发优势](/knowledge/network-effect)/

  * [为什么说门罗币社区最具批判性精神](/knowledge/critical-thinking)/

  * [门罗币防诈骗指南](/knowledge/monero-scams)/

  * [原子互换技术将如何在门罗币上实现](/knowledge/monero-atomic-swaps)/

  * [门罗币与当代互联网，隐私达人的须知](/knowledge/monero-networking)/

  * [ RingCT环形机密技术是如何隐藏门罗币交易的金额](/knowledge/monero-ringct)/

  * [门罗币隐身地址如何保护你的身份](/knowledge/monero-stealth-addresses)/

  * [门罗币子地址是如何防止用户信息被关联](/knowledge/monero-subaddresses)/

  * [加密货币里面的output，中文译作输出，这个概念到底什么意思,又为什么门罗币转账后余额显示错误要等待二十分钟](/knowledge/monero-outputs)/

  * [门罗币最佳入门指南](/knowledge/monero-best-practices)/

  * [环形签名如何保护门罗币发送者的输出](/knowledge/ring-signatures)/

  * [门罗币是如何解决困扰比特币的区块大小的扩容问题](/knowledge/dynamic-block-size)/

  * [ 新的CLSAG环签名技术将如何提高门罗币的效率](/knowledge/what-is-clsag)/

  * [为什么门罗币拥有尾部增发的特性](/knowledge/monero-tail-emission)/

  * [门罗币的前世今生](/knowledge/monero-history)/

  * [Wired杂志是如何误解了门罗](/knowledge/wired-article-debunked)/

  * [流言终结者：关于门罗币的15大传言和疑虑](/knowledge/monero-myths-debunked)/

  * [Dandelion ++蒲公英改进协议如何使Monero从源头得到更强防护](/knowledge/monero-dandelion)/

  * [为什么门罗币是开源且去中心化的](/knowledge/why-monero-is-open-source-and-decentralized)/

  * [为什么门罗币优于达世币, 大零币, 小零币 , 古灵币以及经过Wasabi级别混币器混淆后的比特币 (更新于2020年五月)](/knowledge/why-monero-is-better)/