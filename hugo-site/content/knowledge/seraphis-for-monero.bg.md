---
title: "Seraphis: Какво ще направи за Monero"
slug: "seraphis-for-monero"
date: "2022-01-13"
image: "/images/seraphis.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
## Seraphis: модулен дизайн за подобрение на транзакции на Monero

## Seraphis: модулен дизайн за подобрение на транзакции на Monero

Тази публикация описва [Seraphis](https://github.com/UkoeHB/Seraphis), набор от структури и абстракции на протокол за транзакции, разработени от изследовател с псевдоним [`koe`](https://github.com/UkoeHB) за екосистемата Monero, и с текущ анализ на сигурността от сътрудник под псевдоним [`coinstudent2048`](https://github.com/coinstudent2048).  
Ние правим някои опростявания и пропускаме някои технически подробности за по-голяма яснота; поради тази причина и тъй като дизайнът на Seraphis все още е в ход заинтересованите читатели трябва да се обърнат към документацията на Seraphis за най-актуалната информация.

## Транзакции в Monero

## Транзакции в Monero

Протоколи като Bitcoin и Monero и други разчитат на така наречения „изходен модел“ на работа, където _изход_ е представяне на стойност която може да бъде прехвърлена.  
Транзакциите консумират един или няколко изходи контролирани от подател и генерират нови изходи насочени към получателите (или обратно към подателя като промяна); транзакцията трябва да балансира така че консумираните изходи трябва да съдържат обща стойност точно равна на стойността в новите изходи (плюс такса, наложена от мрежата).  
В много протоколи като биткойн стойността съдържаща се в изхода се записва чисто както и получателят.  
Освен това като се разгледа блокчейнът е тривиално да се види дали и кога даден изход е изразходван (т.е. дали е бил изразходван в по-късна транзакция и коя транзакция го е изразходвала).

За разлика от тях протоколи като Monero въвеждат различен дизайн: 

  * Изходните стойности са скрити и не се виждат в блокчейна 
  * Адресите на получателите са скрити чрез използването на протокол за еднократно адресиране 
  * Дали изходът е бил изразходван или не, се прикрива от използването на двусмислени подписи 

Резултатът е че при липса на външна информация е трудно да се определи дали даден продукт е изразходван каква е стойността му и кой е неговият получател 

Настоящият протокол за транзакции на Monero се нарича _RingCT_ и използва няколко криптографски градивни блока за постигане на тези цели на дизайна.

  * _Ангажименти_ скриват суми по математически полезен начин
  * _Доказателства за обхват_ предотвратяват преливане което може да надуе доставките 
  * _Свързваеми пръстени подписи_ осигуряват неяснота на подписващия и предотвратяват опити за двойно изразходване 
  * _Компенсации на задължения_ твърдят че транзакциите са балансирани 

Тези градивни елементи са внимателно преплетени за изграждане на протокола RingCT.

Полезно свойство на протокола RingCT е че някои градивни елементи могат да бъдат променяни или надграждани по начин който запазва цялостния дизайн и свойства непокътнати но това може да осигури подобрения на ефективността или сигурността. Всъщност този вид надстройки са се случвали (или са планирани да се появят) няколко пъти в историята на Monero. Доказателствата за обхват в оригиналния протокол RingCT бяха обемисти и бавни; по-късно те бяха актуализирани до конструкция, наречена [Bulletproofs](https://eprint.iacr.org/2017/1066), която направи транзакциите по-малки и по-бързи с по-добър анализ на сигурността, и се планира да бъдат актуализирани до по-нова конструкция, наречена [Bulletproofs+](https://eprint.iacr.org/2020/735) за още по-големи ползи за ефективност. 

Подобен процес беше извършен с изграждането на подписа на пръстена за свързване. В оригиналния протокол е използвана конструкция наречена [MLSAG](https://ledger.pitt.edu/ojs/ledger/article/view/34). По-късно това беше актуализирано до по-нова конструкция наречена [CLSAG](https://eprint.iacr.org/2019/654), която е по-бърза води до по-малки транзакции и има по-добър анализ на сигурността. Беше предложена още по-нова конструкция на пръстеновиден подпис, която може да бъде свързана, базирана на [Триптих](https://eprint.iacr.org/2020/018), но тя не беше избрана за внедряване поради въздействието си върху операциите с множество подписи.

## Серахфис

## Серахфис

Seraphis прави тази идея една крачка напред.  
Вместо да актуализира отделни градивни блокове на съществуващия протокол за транзакции RingCT той въвежда различен протокол който може да се възползва от различни градивни блокове и да предложи подобрена функционалност.

## Изграждащи блокове

## Изграждащи блокове

Seraphis използва различен набор от криптографски градивни елементи за да постигне своите дизайнерски цели.

  * _Ангажиментите_ все още крият суми
  * _Доказателства за обхват_ все още предотвратяват преливане и надуване на захранването 
  * _Доказателствата за членство_ предоставят неяснота на подписващия 
  * _Компенсации по ангажименти_ все още предявяват салдо
  * _Доказателства за оторизиране_ предотвратяване на опити за двойно харчене 

Забележете промяната тук: пръстеновидните подписи с възможност за свързване се заменят с комбинация от доказателства за членство и удостоверения за оторизиране. Грубо казано доказателствата за членство показват, че консумираният изход е част от по-голям набор подобно на това което се случва в RingCT. Но за разлика от RingCT, доказателствата за членство изобщо не включват етикета за свързване! Упълномощаващите доказателства показват че свързващият етикет е валиден и се използват за подписване на крайната транзакция.

Тъй като RingCT записва свързващия таг в двусмисления подпис операциите за подписване (и мултиподпис) са по-интензивни от изчислителна гледна точка и става по-предизвикателно да се изгради друга функционалност свързана с тагове. Но в Seraphis конструирането на доказателства за членство може безопасно да се делегира от силно надеждни устройства (които може да имат ограничена изчислителна мощност като хардуерен портфейл) на по-малко надеждно устройство, а операциите за подписване (и мултиподпис) са много по-лесни, като се използва много по-просто доказателство за оторизиране 

За щастие някои от градивните елементи изисквани от Seraphis вече съществуват другаде и не е необходимо да се проектират от нулата. И двете конструкции Bulletproofs и Bulletproofs+ могат да се използват като доказателства за обхват. Модификации на системи за доказване от тип Schnorr могат да се използват за оторизиране на доказателства. И ефективна [система за доказване](https://eprint.iacr.org/2015/643), използвана вече като основа за Triptych, [Lelantus](https://eprint.iacr.org/2019/373) и [Spark](https://eprint.iacr.org/2021/1173)* може да бъде модифицирана за доказателства за членство.

* Cypher Stack получава финансиране за разработка на Spark.

## Адресиране

## Адресиране

За съжаление адресите на Monero които се използват в момента не са съвместими със Seraphis. Потребителите ще трябва да генерират нови адреси от ключовете на портфейла си за да получат Monero ако Seraphis бъде внедрен. Тази цена на екосистемата обаче идва с множество предимства.

Освен структурните предимства обсъдени по-горе дизайнът на Seraphis е податлив на много различни възможности за изграждане на адреси всяка от които идва с компромиси. Докато окончателната конструкция на адреса която ще се използва в Seraphis, [все още се решава](https://github.com/monero-project/research-lab/issues/92) (една схема, която получава много внимание, се нарича [JAMTIS](https://gist.github.com/tevador/50160d160d24cfc6c52ae02eb3d17024)), можем да опишем някои общи и полезни функции.

Може да знаете че адресите на Monero предлагат _ключ за преглед_ функционалност където можете да предоставите ключ за преглед на устройство или трета страна и да му позволите да следи за входящи изходи от ваше име но без да се отказвате от разходите власт. Това е полезно за портфейли които могат да се актуализират като същевременно държат ключа ви за разходи безопасно заключен. Също така е полезно за случаи когато искате външен достъп до преглед, като обществена благотворителна организация предлагаща прозрачност или компания със счетоводен отдел.

Недостатъкът на ключовете за преглед на Monero е че те не предоставят пълен или детайлен достъп до преглед. Не е възможно да се установи надеждно кога даден портфейл харчи средства което затруднява правилното изчисляване на балансите на портфейла, когато ключът за харчене не е наличен. Също така понастоящем не е възможно да се открият входящи изходи, без да се научи и стойността съдържаща се в тези изходи (което означава, че всички трети страни отговорни за намирането на входящи изходи ще научат точно колко Monero придобивате).

Конструкциите за адресиране на Seraphis могат да решат това. Със Seraphis вашият адрес е оборудван с различни ключове които могат да правят различни неща: 

  * Следете за входящи изходи но скрийте стойността им 
  * Наблюдавайте за входящи изходи но покажете тяхната стойност
  * Следете за изходящи изходи 
  * Помага ви да генерирате транзакции, но не и да ги подписвате
  * Генериране на нови адреси (полезно за търговци на дребно или борси с много клиенти)

Като притежател на адреса вие решавате колко правомощия да делегирате на други устройства или трети страни.

## Голямата картина

## Голямата картина

Seraphis е основна промяна в екосистемата Monero. Въпреки че включва модификации на адреси и блокове за изграждане на транзакции дизайнът му предлага гъвкавост и полезна функционалност които не са възможни с днешния протокол RingCT. Въпреки че голяма част от дизайна е финализиран и се разработва в [имплементация](https://github.com/UkoeHB/monero/tree/seraphis_lib) дизайнът на адресите и анализът на сигурността продължават. Seraphis предлага отлична възможност за тласък на екосистемата Monero напред! 

Допълнителна информация

  * [Как Monero уникално позволява кръгови икономики](/knowledge/monero-circular-economies)/

  * [Пръстеновите подписи на Monero срещу CoinJoin като Wasabi](/knowledge/ring-signatures-vs-coinjoin)/

  * [Защо (и как!) трябва да държите собствените си ключове](/knowledge/hold-your-keys)/

  * [Принос към Monero](/knowledge/contributing-to-monero)/

  * [Как отдалечените възли влият върху поверителността на Monero](/knowledge/remote-nodes-privacy)/

  * [Как Monero използва хард-форкове за надграждане на мрежата](/knowledge/network-upgrades)/

  * [Преглед на тагове: Как един байт ще намали времето за синхронизиране на портфейла на Monero с 40%+](/knowledge/view-tags-reduce-monero-sync-time)/

  * [P2Pool и неговата роля в децентрализацията на Monero Mining](/knowledge/p2pool-decentralizing-monero-mining)/

  * [Конвертирането на биткойни в Monero също толкова лично ли е колкото и директното закупуване на Monero?](/knowledge/most-private-way-to-buy-monero)/

  * [Защо Monero използва безнадеждна настройка за разлика от Zcash](/knowledge/monero-trustless-setup)/

  * [Защо Monero е по-добро хранилище на стойност от биткойн](/knowledge/monero-better-store-of-value)/

  * [Как Monero може да преодолее мрежовите ефекти на Биткойн](/knowledge/network-effect)/

  * [Защо Monero има най-критично мислещата общност](/knowledge/critical-thinking)/

  * [Измами за които да внимавате когато използвате Monero](/knowledge/monero-scams)/

  * [Как ще работят атомните размяни в Monero](/knowledge/monero-atomic-swaps)/

  * [Какво всеки потребител на Monero трябва да знае когато става въпрос за работа в мрежа](/knowledge/monero-networking)/

  * [Как RingCT скрива сумите на транзакциите на Monero](/knowledge/monero-ringct)/

  * [Как Monero Stealth адресите защитават вашата самоличност](/knowledge/monero-stealth-addresses)/

  * [Как подадресите на Monero предотвратяват свързването на самоличност](/knowledge/monero-subaddresses)/

  * [Обяснени изходи на Monero](/knowledge/monero-outputs)/

  * [Най-добри практики на Monero за начинаещи](/knowledge/monero-best-practices)/

  * [Как Ring подписите прикриват резултатите на Monero](/knowledge/ring-signatures)/

  * [Как Monero реши проблема с размера на блока който тормози биткойн](/knowledge/dynamic-block-size)/

  * [Как CLSAG ще подобри ефективността на Monero](/knowledge/what-is-clsag)/

  * [Защо Monero има опашкова емисия](/knowledge/monero-tail-emission)/

  * [Кратка история на Monero](/knowledge/monero-history)/

  * [Wired Magazine греши за Monero, ето защо](/knowledge/wired-article-debunked)/

  * [Топ 15 развенчани мита и притеснения за Monero](/knowledge/monero-myths-debunked)/

  * [Как Dandelion++ пази в тайна произхода на транзакциите на Monero](/knowledge/monero-dandelion)/

  * [Защо Monero е с отворен код и е децентрализиран](/knowledge/why-monero-is-open-source-and-decentralized)/

  * [Monero Mining: Какво прави RandomX толкова специален](/knowledge/monero-mining-randomx)/

  * [Защо Monero е по-добър от Dash, Zcash, Zcoin (дори с Lelantus), Grin и Bitcoin Mixers като Wasabi (Актуализиран през май 2020 г.)](/knowledge/why-monero-is-better)/

Допълнителна информация