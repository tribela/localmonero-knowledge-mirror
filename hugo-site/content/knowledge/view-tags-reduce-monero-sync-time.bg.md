---
title: "Преглед на тагове: Как един байт ще намали времето за синхронизиране на портфейла на Monero с 40%+"
slug: "view-tags-reduce-monero-sync-time"
date: "2022-02-03"
image: "/images/viewTags.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
Едно от най-честите оплаквания при ежедневното използване на Monero е времето което може да отнеме синхронизирането на портфейла преди да можете да изпратите Monero. За щастие разработчиците и изследователите в общността на Monero откриха брилянтен начин да намалят времето необходимо за синхронизиране на портфейла ви с 40%+ без никакво допълнително раздуване на блокчейн такси и т.н. 

Въведете „view tags“, еднобайтово допълнение към данните за всяка транзакция – идва в Monero при следващото мрежово надграждане!

## Защо синхронизирането на портфейла на Monero е по-бавно от това на биткойн?

Един от първите въпроси на които трябва да отговорим за да разберем по-добре необходимостта от решение като тагове за преглед е защо синхронизирането на портфейла на Monero е по-бавно от криптовалутите като биткойн.

В биткойнът, тъй като всички транзакции не са частни и разкриват монетите които се изразходват, сумите и включените адреси във веригата, биткойн портфейлите могат просто да търсят всички неизразходвани изходи на транзакции (UTXO) или използвани адреси за даден портфейл, бързо сканиране на блокчейна само за UTXO притежавани от тези адреси за да разберете кои монети принадлежат на вашия портфейл и могат да бъдат изразходвани.

В Monero обаче всички транзакции запазват поверителността на потребителя като скриват подателя получателя и сумите включени във всяка транзакция. Тази поверителност макар и жизненоважна за защита на потребителите на мрежата също въвежда по-бавна синхронизация на портфейла. В Monero вашият портфейл трябва да сравнява всеки изход за транзакция (TXO) който съществува в мрежата с личните ключове на вашия портфейл.

Това сравнение включва много сложна математика и криптография за да се потвърди че изходът наистина е ваш тъй като всички суми адреси и известни изразходвани изходи (или монети) са скрити във веригата в Monero.

## Какво представляват таговете за преглед?

В жест на помощ за намаляване на времето за синхронизиране на портфейлите Monero, [изследовател на име UkoeHB излезе с нов подход](https://github.com/monero-project/research-lab/issues/73) – добавете 1-байтов „етикет“ към всяка транзакция използвайки споделена тайна известна само към подателя и получателя на тази транзакция 

Тази споделена тайна се генерира от подателя използвайки адреса които му е предоставен от получателя и не изисква никакво активно сътрудничество от подателя и получателя. След това първият байт (или знак) на тази споделена тайна се добавя към данните на транзакциятa когато се публикува в мрежата на Monero.

Когато един от участниците в тази транзакция иска да синхронизира портфейла си с блокчейна на Monero след това вместо да се налага да изпълнява всички сложни математически и криптографски операции за всеки TXO в мрежата, портфейлът вече може просто да проверява за това 1-байтово поле във всяка транзакция и едва след това извършете отнемащата време проверка на транзакции които имат този етикет – 1/256 TXO в мрежата за да бъдем точни! 

Този маркер не разкрива никаква информация за транзакцията на външни зрители само добавя 1 байт (незначително количество) към размерите на транзакциите и все пак ни позволява да намалим времето за синхронизиране с 40%+ чрез намаляване на сложните проверки необходимо!

## Преглед на етикети: опростен пример

Представете си, че имате 4096 кутии в една стая от които само 5 кутии принадлежат на вас. Всички кутии са напълно неразличими отвън и единственият начин да разберете дали дадена кутия е за вас е да я отворите и да решите отнемащ време математически проблем записан вътре за да сте сигурни че е ваша.

Сега си представете че решавате лицето което ви изпраща тези 5 кутии да генерира специален код, използвайки вашия адрес и след това да поставите само първия знак от този генериран код от външната страна на всяка кутия която ви изпраща. Всички останали правят същото за своите кутии (за да се гарантира че всички кутии все още са неразличими), но сега можете просто да погледнете кода с един знак от външната страна на кутията и да отворите само тези кутии които имат този знак върху тях.

Докато други кутии ще съответстват на вашия код дори някои които не са ваша собственост броят на кутиите които трябва да отворите и да разрешите математически проблем вече е само 16 (1/256 кутии!) вместо всичките 4096. 

Сега отваряте тези 16 кутии решавате математическите задачи и запазвате 5-те кутии, които всъщност ви принадлежат от тази група!

## Кога етикетите за преглед ще бъдат налични в Monero?

Прегледът на етикетите е една от функциите които понастоящем са планирани за включване в [предстоящото мрежово надграждане](https://github.com/monero-project/meta/issues/630) и трябва да бъдат пуснати известно време тази пролет. Общността [събра 23.3XMR](https://bounties.monero.social/posts/28/implement-view-tags-to-decrease-wallet-sync-times-in-monero) (по време на писане), за да стимулира разработването и внедряването на тагове за изглед и в резултат на това по-голямата част от работата по включването на тагове за изглед в кодовата база на Monero вече е извършена завършено от j-berman в сътрудничество с рецензенти и изследователи 

След като таговете за преглед бъдат наложени от мрежата всички транзакции изпратени след надграждането на мрежата ще се възползват от драстично подобреното време за синхронизиране на портфейла. Няма да е необходимо да правите нищо специално за да започнете да използвате тагове за преглед вашият любим портфейл за Monero просто ще започне да ги използва след надграждането на мрежата автоматично!

## Как мога да науча повече?

Ако това е събудило любопитството ви към етикетите за изглед погледнете по-долу за някои допълнителни връзки които навлизат в дълбочина в темата: 

  * [Намаляване на времето за сканиране с 1-байт на изход „таг за преглед“](https://github.com/monero-project/research-lab/issues/73)
  * [Добавете етикети за изглед към изходите за да намалите времето за сканиране на портфейла](https://github.com/monero-project/monero/pull/8061)

Допълнителна информация