---
title: "Кольцевые подписи Monero против CoinJoin как в Wasabi"
slug: "ring-signatures-vs-coinjoin"
date: "2022-03-22"
image: "/images/coinjoin.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
По мере того, как инструменты конфиденциальности Биткойна привлекают все больше внимания и используются, они становятся объектом пристального внимания со стороны регулирующих органов. Это внимание привело к [недавнему объявлению](https://twitter.com/wasabiwallet/status/1503091503207432193) инструмента конфиденциальности Биткойна, Wasabi Wallet, о том, что он начнет цензурировать и отклонять входящие данные для миксов, которые они считают незаконными или противоречащими их правилам сервиса, и будет платить компании по анализу блокчейна для "проверки" входящих участников миксов.

Использование транзакций CoinJoin для сокрытия источника средств в Биткойне уже много лет является основой конфиденциальности Биткойна, и проблемы и риски, присущие их использованию, являются одними из основных проблем, которые исправляет и предотвращает кольцевая подпись Monero.

В этой статье мы кратко рассмотрим сравнение CoinJoin и кольцевых подписей, а также объясним, почему подход, используемый в Monero, обеспечивает большую устойчивость к цензуре, большую конфиденциальность и меньше хлопот для пользователей.

## Что такое транзакция CoinJoin?

Поскольку в Биткойне все транзакции полностью прозрачны - известны отправитель, получатель и суммы - пользователи должны предпринимать дополнительные шаги для сохранения конфиденциальности от предыдущих отправителей и будущих получателей своих средств или рисковать цензурой, слежкой или кражей средств с помощью физического насилия.

Лучшим решением для обеспечения конфиденциальности в Биткойне на сегодняшний день является инструмент под названием [“CoinJoin”](https://bitcoiner.guide/qna/coinjoin/), когда 2 или более пользователей работают вместе (обычно через централизованного координатора) для создания специальной транзакции, которая затрудняет для сторонних наблюдателей связь между входами и выходами. Каждый участник обменивается данными для совместного создания транзакции, не передавая своих средств, и получает на выходе результат, предыдущая история которого теперь неясна (или затуманена) для сторонних наблюдателей.

Таким образом, история конкретных UTXO (неизрасходованных выводов транзакций) нарушается, что позволяет пользователям Биткойна получить некоторую толику секретности при совершении транзакций. Однако у CoinJoin (как это реализовано в Wasabi Wallet и Samourai Wallet, двух наиболее используемых инструментах CoinJoin для Биткойна) есть несколько существенных недостатков:

  * Поскольку транзакции CoinJoin являются полностью opt-in и требуют активного участия, любой участник обязательно показывает, что он стремится к большей конфиденциальности, чем "обычные" пользователи Bitcoin, что потенциально может выделить его из толпы и вызвать проблемы с расходованием средств на многих регулируемых биржах или организациях. Каждый пользователь не может отрицать, что он участвовал в транзакции CoinJoin.
  * Для того чтобы найти других участников для CoinJoin, большинство подходов к CoinJoin (включая Wasabi Wallet) используют централизованного координатора, который соединяет участников и помогает им общаться и строить правильную транзакцию CoinJoin. Этот централизованный координатор никогда не хранит средства пользователей, но получает обширную информацию о транзакциях, которые он координирует, может цензурировать входящие данные (как в случае с Wasabi Wallet), и на него могут оказывать давление с целью сбора или передачи информации об участниках CoinJoin.
  * Пользователям с большими суммами средств для CoinJoin часто приходится ждать несколько часов (или даже дней!), чтобы найти достаточно участников для CoinJoin, что приводит к большим задержкам с момента получения средств до момента, когда пользователь может потратить их в частном порядке.
  * Конфиденциальность, обеспечиваемая транзакцией CoinJoin, со временем ухудшается по мере того, как другие участники тратят средства или связывают их вывод со своей личностью через KYC биржи, торговцев, требующих удостоверения личности, и т.д. Это означает, что в идеале пользователи должны постоянно держать свои средства в транзакциях CoinJoin, чтобы сохранить набор анонимности ("толпу, в которой можно спрятаться") как можно более свежим.
  * В большинстве подходов к CoinJoin участники должны использовать UTXO фиксированного размера (т.е. 0,1 BTC), чтобы усложнить соединение входов и выходов транзакций CoinJoin. Это приводит к более высоким комиссиям (требуется больше отдельных транзакций на большой вход), большему количеству "токсичных изменений" (средств, которые невозможно потратить без серьезного риска для конфиденциальности), и может вообще лишить мелких пользователей возможности смешивать средства, если у них нет необходимого минимального баланса.

## Как кольцевые подписи решают эти проблемы?

Поскольку [в прошлом мы глубоко изучили, что такое кольцевые подписи](/knowledge/ring-signatures), я не буду вдаваться в подробности технических аспектов их работы в этой статье. Вместо этого мы рассмотрим, как подходы, использованные в Monero, решают проблемы с CoinJoin, о которых говорилось выше.

> CoinJoin работает по принципу opt-in и требует участия

Кольцевые подписи в Monero являются основной особенностью протокола конфиденциальности, и "каждая" транзакция в сети использует их. Это означает, что ни одна транзакция пользователя не выделяется стремлением к большей конфиденциальности, чем у "обычных" пользователей Monero, и все пользователи получают правдоподобное опровержение того, что они потратили средства в любой конкретной транзакции. Поскольку пользователь, расходующий средства, не координирует и не участвует в транзакции со входами-приманками, те пользователи, которые владеют входами, выбранными в качестве приманок, могут честно сказать, что они не участвовали в этой транзакции, что укрепляет их конфиденциальность.

> Использование централизованного координатора

Поскольку кольцевые подписи Monero полностью не координируются и для создания транзакции требуется только истинный расходник средств, в Monero нет необходимости в централизованном координаторе. Это гарантирует, что _никто_ не сможет лишить вас доступа к конфиденциальности в Monero, и нет централизованной структуры, на которую можно было бы оказать давление, нет легких атак Sybil на ликвидность и т.д. Пока ваша транзакция платит соответствующие сборы, вы получаете неоценимый доступ к конфиденциальности, безопасности и анонимности в Monero.

> CoinJoin требует ликвидности

"Ликвидность", доступная любому, кто тратит Monero для использования в качестве приманки, всегда равна общему количеству выходов на цепочке, поэтому с Monero никогда не бывает недостатка в приманках, в которых можно спрятаться. Тот, кто хочет потратить Monero, может сделать это через ~20 минут после получения средств, и ему не нужно выполнять никаких дополнительных действий, чтобы получить надежную конфиденциальность в Monero.

> Конфиденциальность CoinJoin ухудшается со временем

Поскольку средства Monero никогда не расходуются сетью, конфиденциальность, обеспечиваемая кольцевыми подписями, гораздо меньше подвержена деградации с течением времени. Пользователю не нужно постоянно пополнять Monero, и, за исключением крайне редких случаев, он не теряет приватность с течением времени.

Однако если пользователь захочет "обновить" приманки, используемые при выводе, он может просто отправить средства обратно себе и потратить их ~20 минут спустя, как обычно.

> CoinJoin обычно требует вводов фиксированного размера

Поскольку суммы скрываются в каждой транзакции с помощью [“Конфиденциальных транзакций”](/knowledge/monero-ringct) (часть "RingCT"), приманки, используемые в любой конкретной транзакции, могут быть любого размера. В Monero нет причин беспокоиться об эвристике, основанной на количестве, поэтому транзакции гораздо проще строить и можно использовать приманки из любого момента времени и любого количества на блокчейне Monero.

## Как я могу узнать больше?

Если вы любопытны и хотите лучше понять кольцевые подписи или транзакции CoinJoin, смотрите ссылки ниже, чтобы узнать, с чего начать:

  * [Как кольцевые подписи скрывают вывод Monero](/knowledge/ring-signatures)
  * [Кольцевые подписи - Moneropedia](https://www.getmonero.org/resources/moneropedia/ringsignatures.html)
  * [Coinjoin - вопросы и ответы](https://bitcoiner.guide/qna/coinjoin/)
  * [Обзор CoinJoin](https://6102bitcoin.com/coinjoin-overview/)

Читайте также