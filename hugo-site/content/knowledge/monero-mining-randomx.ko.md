---
title: "모네로 채굴: RandomX가 특출난 이유"
slug: "monero-mining-randomx"
date: "2020-02-20"
image: "/images/mining.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
2019년 11월 30일, 반년마다 정기적으로 있는 하드포크를 통해 오래된 Proof of Work 알고리즘인 cryptonight에서 새로 개발된 RandomX로 교체했습니다. 모네로 커뮤니티는 RandomX가 평등한 채굴에 큰 도움이 될 것이라고 믿고 있으며, 실제로 그런지 알아보겠습니다.

## 목적

RandomX가 실제로 더 우월한지 알기 위해서는 일단 채굴의 목적을 이해해야 합니다. 블록체인 채굴은 Nakamoto Consensus (나카모토 합의)를 통해 블록체인을 강화합니다. 어떻게 강화되는지는 이 글에서 설명하기에 복잡해 생략하지만 인터넷 내에서 쉽게 찾을 수 있습니다. 중요한건 광부(컴퓨터)가 생성한 해시가 서로 다음 블록을 채굴하기 위해 투자하는 계산이 보안의 기반이 된다는 것입니다. 이와 동시에 광부는 블록체인에 새 거래들을 추가합니다. 광부는 노동(해시)에 대한 보상으로 새로 채굴된 코인을 받게 됩니다.   
  
여기서 생길 수 있는 문제가 여럿 있지만, 우리는 하나에만 집중하겠습니다. 채굴이 광부들의 경쟁이라면, 한 광부가 다른 광부들에 비해 채굴에 유리하면 어떻게 될까?

## 배경

맥락을 위해 마이닝 하드웨어에 대해 조금 이야기해 보겠습니다. 광부들은 컴퓨터를 사용하여 작업을 수행하지만 모든 컴퓨터가 동일하게 만들어지는 것은 아니라는 것을 우리 모두는 알고 있습니다. 일부 컴퓨터는 AI 네트워크나 강렬한 게임을 실행할 수 있을 만큼 강력하지만, 다른 컴퓨터는 간단한 작업에도 어려움을 겪습니다. 컴퓨팅 성능의 이러한 차이는 해시 속도, 즉 블록 솔루션을 찾는 속도에도 영향을 미칩니다.   
  
그러나 컴퓨터 간의 이러한 차이조차도 일반 컴퓨터를 몇 배나 능가하는 ASIC(응용프로그램별 집적 회로)으로 알려진 특수 하드웨어의 해시 속도와 비교할 때 미미합니다.  
  
ASIC을 그토록 강력하게 만드는 요인이 무엇인지 알아보는 시간을 갖도록 하겠습니다. 모든 컴퓨터가 많은 일을 할 수 있지만 잘 할 수 없는 것부터 단 한 가지만 할 수 있지만 아주 잘 하는 것까지 스펙트럼의 어딘가에 속한다고 상상해 보십시오. CPU와 ASIC은 이 스펙트럼의 반대편 끝에 있습니다.  
  
모든 표준 컴퓨터에 있는 CPU는 첫 번째 끝에 있습니다. 웹 검색, 게임 플레이, 비디오 렌더링 등 다양한 작업을 수행할 수 있지만 그 중 특별히 잘 수행하는 작업은 없습니다. 그러나 이러한 유연성은 효율성을 희생하면서 발생합니다.  
  
ASIC은 한 가지 일만 할 수 있지만 놀라운 속도로 해내는 반대편에 있습니다. 하나의 수학적 기능만 수행할 수 있지만 다른 모든 기능은 무시할 수 있으므로 성능 향상은 천문학적입니다. 그러나 이러한 효율성은 유연성을 희생하므로 기능이 약간이라도 변경되면(예: x + y = z가 2x + y = z로 변경되는 경우) ASIC은 완전히 작동을 중단합니다.   
  
모든 사람이 ASIC을 소유하는 것은 아니지만 모든 사람이 컴퓨터를 소유하고 있습니다. 이는 불공정한 이익으로 이어질 수 있습니다.

## 예시

아직도 이해하기 힘드신 분들을 위해 예시를 하나 들겠습니다. 한시간에 한번씩 상금을 백만원씩 나눠주는 로또가 있다고 생각해봅시다. 이 로또는 티켓을 본인이 직접 프린트해야 하기 때문에 당신은 당신의 프린터가 프린트할 수 있는 최대속도인 초당 한장을 프린트하고 있습니다. 일주일에 한번만 당첨되고 잉크값과 전기세를 감안해도 당신의 돈을 벌 수 있다는 걸 알고 있습니다.  
  
시간이 지나면서 당신의 이 '사업'을 확장해 프린터가 20대 들어있는 전용 프린트 방을 만듭니다. 모든게 순조롭게 흘러가고 있다가 어느 날 문제가 생깁니다.  
  
빅뉴스! 누군가 새 프린터를 개발했습니다. 이 프린터는 오직 로또티켓만을 프린트하기 위해 만들어져 사진, 문서, 양면프리트 등 다른 작업을 아무것도 하지 못합니다. 하지만 로또티켓만은 초당 1000장씩 프린트할 수 있습니다. 당신은 당신의 전용 프린트룸의 20대의 프린터를 보고 새 프린터 1대와 경쟁하기 위해서는 같은 프린터가 무려 980대나 더 필요하다는 것을 깨닫습니다. 만약에 누가 새 프린터가 2대 있다면...?  
  
당신의 이제 전기세와 잉크값을 생각했을 때 수지타산이 맞이 않아 로또 경쟁을 포기합니다.  
  
하지만 그때! 몇 주 후 새로운 뉴스가 있습니다! 로또티켓의 디자인이 바뀌었습니다. 갑자기 최고의 프린터가 최악의 프린터가 되었습니다. 새 프린터는 예전 디자인에 최적화되었기 때문에 이제 새 티켓은 생성하지 못합니다. 이제 당신은 다시 싱글벙글 티켓을 프린트하기 시작합니다... 새 디자인을 적용한 새 프린터가 나올 때까지.

## RandomX

도대체 여기에 RandomX 무슨 상관이냐고요? RandomX는 여기에 맞는 ASICs를 만들지 못하게 ASICs 제작의 난이도를 최대한 높여버리기 위해 알고리즘 기반의 해시생성이 아닌 무작위 함수를 이용해 채굴을 합니다.  
  
실제로 이게 무슨 도움이 되는지 이해하기 힘들 수도 있으니, 프린터 예시로 돌아가봅시다. 고성능 프린터는 디자인이 바뀐 로또티켓을 출력하지 못하기 때문에 더 이상 사용하지 못하고 새 고성능 프린터를 개발해야 합니다. 만약 모든 로또 티켓이 각자 새로운 무작위 디자인을 적용해야만 당첨된다면 어떻게 될까요?   
  
새 고성능 프린터를 개발하는건 거의 불가능에 가까울겁니다. 이제 한가지 디자인에 최적화할 수 없습니다. 디자인이 무작위이니 고성능 컴퓨터는 새로운 잉크도 도입해야할 것이고, 다른 문구, 도형 등도 프린트할 수 있어야 합니다. 결과적으로, 고성능 프린터는 모두가 보유한 그냥 프린터처럼 될 것입니다.   
  
티켓디자인을 무작위로 바꾸면서 특수장비를 가진 이들의 이점을 없앨 수 있었습니다. RandomX도 채굴에 비슷한 방법을 사용합니다.  
  
이렇게 되면 소수의 사람들이 가진 이점을 최소화하고 그들이 RandomX을 위한 “ASICs” 개발하기 위해 노력하면 그저 더 발전된 CPU를 만들어 모두에게 이로울 것입니다.  
  
이 덕분에 프린터를 20대 구매한 일반인도 다시 경쟁에 뛰어들 수 있습니다. 프린터를 더 많이 살 수 있는 자와는 경쟁하기 힘들 지 몰라도, 기계성능의 차이에 의해 몇십배씩 차이가 나지는 않을 것이고, 나름대로의 경쟁이 가능할 것입니다.   
  
거창한 장비가 없어도 모네로 채굴이 가능하니 개인 채굴이 가능한 모네로 GUI를 사용하거나 커뮤니티 소프트웨어를 이용해 채굴을 시도해 보기를 권장합니다. 쉽고 누구나 경쟁력 있게 이용할 수 있습니다.