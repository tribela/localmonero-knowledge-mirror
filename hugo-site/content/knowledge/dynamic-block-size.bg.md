---
title: "Как Monero реши проблема с размера на блока който тормози биткойн"
slug: "dynamic-block-size"
date: "2020-08-28"
image: "/images/blocks.png"
image_credit: "Illustration by CypherStack"
image_credit_url: "https://cypherstack.com"
---
_**Забележка:** Силно препоръчително е читателят да е прочел нашите статии [„Защо Monero има опашка емисия“](/knowledge/monero-tail-emission) и [„Копане на Monero: Какво прави RandomX толкова специален”](/knowledge/monero-mining-randomx). Тази статия се основава на концепциите представени там._

Винаги когато отделни хора обсъждат проблемите с блокчейна една от първите думи които изскачат ще бъде „мащабиране“. Не е тайна че блокчейните не се мащабират добре но повечето хора не знаят защо.

Истината е че мащабирането всъщност е общ термин който обхваща две различни категории: поддръжка на протоколи и технологична поддръжка в даден момент от време. В тази статия ще съсредоточим вниманието си върху едно поддръжката на протокола е главна мярка за това колко транзакции може да обработи протоколът в даден момент.

Биткойн има ограничение за размера на блока което означава че след като в блока бъдат включени достатъчно транзакции всички допълнителни транзакции ще трябва да чакат на опашка за следващия блок. Полезна аналогия би била да мислим за влак. Влак спира на гарата и всички на опашката се събират. След като влакът се напълни всеки който остане отвън ще трябва да изчака следващия.

Биткойн използва такси за да определи кой влиза или не в блока. Връщайки се към аналогията с влака можем да си представим един потенциален пътник който е на път да бъде изоставен предлага на машиниста пет долара за да му даде място. Други пътници последват примера и в крайна сметка има война за наддаване за да се види кой кои места ще получи. От водача зависи да реши дали иска да спази политиката „първи дошъл, първи обслужен“ но в негов най-добър финансов интерес е да максимизира доходите си като вземе на борда наддаващите най-високо.

В тази аналогия миньорите са машинистите. Те могат да включат транзакции по избор в блока но обикновено ще изберат тези които имат най-високите такси.

Алтернативно ако блоковете не са много пълни хората нямат стимул да плащат високи такси защото има много свободни места за резервиране.

В разгара на бума на криптовалутите през 2017 г. Биткойн беше залят от транзакции и таксите станаха космически за тези които искаха да бъдат включени в следващия блок или който и да е блок в близко бъдеще. Тези които не желаеха да плащат високи такси виждаха как транзакциите им се отлагат с часове, дни или дори напълно отпадат от опашката.

Това беше мъчителна представа за това как би се справил биткойнът ако се случи често говореното за „масово приемане“. Ако биткойн трябваше да се използва от масите нещата щяха да бъдат още по-лоши отколкото през 2017 г. и биткойн щеше да бъде недостъпен за никого освен за богатите просто защото пропускателната способност е малка поради фиксирания размер на блока което кара пазара на такси да поеме 

Monero не искаше да повтори тази грешка. Така че разработчиците на Monero внедриха динамичен размер на блока.

По принцип Monero също има ограничение на размера на блока но това е меко ограничение. Когато опашката от чакащи транзакции стане твърде дълга копачите могат да увеличат размера на блоковете. С нашата аналогия с влака можете да си представите добавянето на още вагони за да поберете допълнителните пътници. След като опашката е празна блоковете се свиват обратно до първоначалния си размер напред.

Ако това изглежда като добра идея то ще е логично да се запитаме защо Monero е единствената криптовалута която е внедрила това. Защо не го добавите към биткойн за да сложите край на проблемите с пропускателната способност? 

За съжаление това не е възможно. Има няколко причини защо и ние ще направим всичко възможно за да ги обясним.

Винаги е в най-добрия интерес на миньора да има големи блокове. С големи блокове те могат да се поберат в повече транзакции и да направят повече пари от таксите както и от блоковите награди. Това има потенциала да доведе до спам атаки при които някой изпраща много малки транзакции с малки такси за да раздуе веригата. Миньора просто ще увеличи размера на блока като ги включи всички защото парите са си пари независимо колко малки са. Това би довело до постоянно големи блокове с малка икономическа полза. Биткойн решава това чрез изкуствено ограничаване на размера на блока като по този начин генерира пазар на такси. Нападателите на нежелана поща ще трябва да плащат такси на другите потребители а това вече не е евтино. Но това означава че блоковете се запълват оставяйки някои транзакции да чакат както е споменато по-горе.

И така как може Monero да има динамични размери на блокове но да избегне спам атаки? Отговорът е прост но умен. Въвежда се наказание за наградата за блок когато блокът е по-голям от нормалното. Ако миньор иска да увеличи размера на блока наградата която получава от намирането на този блок ще бъде по-малка отколкото би получил иначе. Така че те ще увеличат размера на блока само когато платените такси за транзакция на потребителите надвишат загубената част от наградата за блок. Например ако миньорът би загубил 0,5 XMR чрез повишаване на наградата за блок и сумата на платените такси за транзакция ще бъде 0,4 XMR тогава ще има нетна загуба от 0,1 XMR ако трябва да увеличат размера така че те биха не го прави обратно ако общите такси за транзакция се добавят до 0,7 XMR тогава ще има нетна печалба от 0,2 XMR въпреки че губят 0,5 XMR от наказанието за възнаграждение за блок, така че копачът ще увеличи размера.

Тези динамични блокове позволяват на мрежата да расте органично без изкуствено ограничаване на размера на блока за да се направи пазар на принудителни такси като същевременно се избягват спам атаки. Има още няколко ъгъла от които можем да разгледаме тази идея и още причини поради които не би било възможно да се добави към биткойн но засега се надяваме че читателят има разбиране за това как Monero заобикаля някои от проблемите в биткойн и нейните производни и как планира да увеличи своята пропускателен капацитет в бъдеще 

Допълнителна информация